"0","#1 ligne"
"0","#Toutes les phénologies en NA à la session 2 sont collées à des phénologies en 0 soit à la S1 soit à la S3 donc on peut aussi les transformer en 0"
"0","phenologie_transi_tot <- phenologie_transi_tot %>%"
"0","  mutate(phenoS2 = replace_na(phenoS2, 0))"
"0",""
"0","# -------------------------------"
"0","# 3. Calcul empirique des transitions 1 → 2 → 3"
"0","# -------------------------------"
"0","phenologie_transi_tot_long <- phenologie_transi_tot %>%"
"0","  pivot_longer(cols = c(phenoS1, phenoS2, phenoS3),"
"0","               names_to = ""session"","
"0","               values_to = ""etat"") %>%"
"0","  mutate(session = as.integer(gsub(""phenoS"", """", session)))"
"0",""
"0","# Calculer les transitions successives"
"0","transitions_transi_tot <- phenologie_transi_tot_long %>%"
"0","  group_by(ID_ind) %>%"
"0","  mutate(etat_suivant = lead(etat)) %>%"
"0","  ungroup() %>%"
"0","  filter(!is.na(etat_suivant))"
"0",""
"0","#Calculer le nombre d'individus avec les mêmes transitions"
"0","nb_transitions_transi_tot <- transitions_transi_tot %>%"
"0","  count(etat, etat_suivant, name = ""n"")"
"0",""
"0","nb_transitions_transi_tot"
