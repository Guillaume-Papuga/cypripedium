"0","# Extraire la partie quadrat de tab_complet (tout avant le dernier point)"
"0","tab_complet <- tab_complet %>%"
"0","  mutate("
"0","    ID_Quadrat_clean = str_replace(id_quadrat_fin, ""\\.[0-9]+$"", """")"
"0","  )"
"0",""
"0","# Nettoyer recouvrement pour correspondre au format de tab_complet"
"0","recouvrement_clean <- recouvrement %>%"
"0","  mutate("
"0","    ID_Quadrat_clean = str_replace_all(ID_Quadrat, ""_"", ""."")"
"0","  ) %>%"
"0","  dplyr::select(ID_Quadrat_clean, starts_with(""S_""))"
"0",""
"0","# Faire le left_join pour ajouter les colonnes S_ au tableau complet"
"0","tab_complet <- tab_complet %>%"
"0","  left_join(recouvrement_clean, by = ""ID_Quadrat_clean"") %>% "
"0","  dplyr::select(-ID_Quadrat_clean)"
"0",""
"0","#VÃ©rification histoires de capture"
"0","verif_sessions <- tab_complet %>%"
"0","  group_by(ID_ind) %>%"
"0","  summarise("
"0","    nb_sessions = n_distinct(session),"
"0","    sessions = paste(sort(unique(session)), collapse = "",""),"
"0","    .groups = ""drop"""
"0","  )"
"0",""
"0","check_sessions <- verif_sessions %>%"
"0","  mutate("
"0","    ok_sessions = sessions == ""1,2,3"""
"0","  )"
"0",""
"0","check_sessions %>%"
"0","  filter(!ok_sessions)"
